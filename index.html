<!DOCTYPE html>
<html>
<head>
  <title>owo spammer</title>
  <style>
    body {
      background: #0d0d0d;
      color: #00ffcc;
      font-family: monospace;
      padding: 20px;
    }
    input, select, button {
      background: #1a1a1a;
      color: #00ffcc;
      border: none;
      padding: 5px;
      margin: 5px 0;
      width: 100%;
    }
    button {
      background: #00ffcc;
      color: #0d0d0d;
      cursor: pointer;
    }
    #x8 {
      margin-top: 20px;
      color: #999;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <h1>owo spammer tool</h1>
  <input id="x0" placeholder="token desu~">
  <input id="x1" placeholder="channel id nyan~">
  <select id="x2"></select>
  <select id="x3">
    <option value="shift">shift mode</option>
    <option value="enter">enter mode</option>
  </select>
  <input id="x4" placeholder="mentions like @everyone or ids owo">
  <button id="x5">start spam uwu</button>
  <button id="x6">stop spam qwq</button>
  <div id="x7">waiting owo...</div>
  <div id="x8">loading .txt list meow</div>
  <script>
    let x9 = document.querySelector('#x0'),
        x10 = document.querySelector('#x1'),
        x11 = document.querySelector('#x2'),
        x12 = document.querySelector('#x3'),
        x13 = document.querySelector('#x4'),
        x14 = document.querySelector('#x5'),
        x15 = document.querySelector('#x6'),
        x16 = document.querySelector('#x7'),
        x17 = document.querySelector('#x8')
    let x18 = [], x19 = 0, x20 = false
    let x21 = async () => {
      try {
        let x22 = await fetch('/notepad')
        if (!x22.ok) throw 'nope'
        let x23 = await x22.json()
        x11.innerHTML = ''
        x23.forEach(x24 => {
          let x25 = document.createElement('option')
          x25.value = x24
          x25.innerText = x24.split('.')[0]
          x11.appendChild(x25)
        })
        x17.innerText = 'txts uwu : ' + x23.map(x=>x.replace('.txt','')).join(' ')
        x16.innerText = 'yay txts loaded owo'
      } catch {
        x17.innerText = 'rip txts not loading >_<'
        x16.innerText = 'can u fix ur txt folder pls'
      }
    }
    x21()
    x14.onclick = async () => {
      if (x20) return
      try {
        let x26 = await fetch('/notepad/' + encodeURIComponent(x11.value))
        let x27 = await x26.text()
        x18 = x27.split('\n').filter(x => x.trim())
        x20 = true
        x19 = 0
        x16.innerText = 'lets spam desu~'
        x28()
      } catch {
        x16.innerText = 'cant read notepad q-q'
      }
    }
    x15.onclick = () => {
      x20 = false
      x16.innerText = 'stopped spamming meow'
    }
    async function x29(x30) {
      try {
        let x31 = await fetch(`https://discord.com/api/v9/channels/${x10.value.trim()}/messages`, {
          method: 'POST',
          headers: {
            authorization: x9.value.trim(),
            'content-type': 'application/json'
          },
          body: JSON.stringify({ content: x30 })
        })
        if (x31.status === 429) {
          x16.innerText = 'ouch rate limit wait 5s'
          await new Promise(x32 => setTimeout(x32, 5000))
          return x29(x30)
        }
      } catch {
        x16.innerText = 'error sending msg wait a bit'
        await new Promise(x32 => setTimeout(x32, 5000))
        return x29(x30)
      }
    }
    async function x28() {
      while (x20) {
        let x33 = x13.value.trim().split(/\s+/).filter(x => x)
        if (x12.value === 'shift') {
          let x34 = '**\n'
          for (let x35 = 0; x35 < 20; x35++) {
            let x36 = x18[x19 % x18.length]
            let x37 = x38(x36)
            let x39 = (x33.length ? x33[x19 % x33.length] + ' ' : '') + x37
            x34 += x39 + '\n'
            x19++
          }
          await x29(x34)
          x16.innerText = `sent batch ${x19}`
        } else {
          let x36 = x18[x19 % x18.length]
          let x37 = x38(x36)
          let x39 = '**\n' + (x33.length ? x33[x19 % x33.length] + ' ' : '') + x37
          await x29(x39)
          x19++
          x16.innerText = `sent line ${x19}`
        }
        await new Promise(x40 => setTimeout(x40, 800))
      }
      x16.innerText = 'done spamming uwu (loop will end if stopped)'
    }
    function x38(x41) {
      let x42 = x41.split(' ').map(x43 => {
        return [...x43].map(c => Math.random() < .5 ? c.toUpperCase() : c.toLowerCase()).join('')
      }).join(' ')
      if (Math.random() < 0.4) x42 += ' ðŸ’•'
      if (Math.random() < 0.2) x42 = '**' + x42 + '**'
      return x42
    }
  </script>
</body>
</html>
